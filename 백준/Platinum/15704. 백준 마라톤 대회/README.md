# [Platinum V] 백준 마라톤 대회 - 15704 

[문제 링크](https://www.acmicpc.net/problem/15704) 

### 성능 요약

메모리: 10836 KB, 시간: 124 ms

### 분류

이분 탐색, 데이크스트라, 그래프 이론, 최단 경로

### 제출 일자

2023년 11월 20일 10:09:10

### 문제 설명

<p>백준 마라톤 대회가 열린다. 마라톤 대회는 미리 정해진 코스를 따라서 달려야 하며, 아직 코스는 정해지지 않았다. 마라톤 대회가 열리는 곳은 N개의 교차로와 M개의 양방향 도로로 이루어져 있다. 도로는 두 교차로를 연결한다. 교차로는 1번부터 N번까지 번호가 매겨져 있고, 도로도 1번부터 M번까지 번호가 매겨져 있다.</p>

<p>마라톤 코스는 (V<sub>1</sub>, V<sub>2</sub>, ..., V<sub>k</sub>)로 나타낼 수 있다. 이때, k는 마라톤 코스에 포함되어 있는 교차로의 개수이다. 시작 교차로 V<sub>1</sub>은 항상 1번 교차로, 마지막 교차로 V<sub>k</sub>는 항상 N번 교차로이어야 한다. 같은 교차로가 두 번 이상 등장하면 안되고, 연속하는 교차로는 도로로 연결되어 있어야 한다.</p>

<p>마라톤 대회를 열려면 도로를 통제해야 한다. 도로를 통제하려면 비용을 지불해야 할 수도 있고 지불하지 않을 수도 있다. 각 도로에는 도로 통제 비용 C와 지불 인원 상한선 T가 존재한다. P를 마라톤에 참가하는 사람의 수라고 했을 때, P ≤ T인 경우에는 비용을 지불하지 않고 도로를 통제할 수 있다. P > T인 경우에는 C×(P-T)<sup>2</sup>원이 도로를 통제하는 비용이다.</p>

<p>마라톤 대회의 예산 중에서 도로 통제에 지불할 수 있는 금액은 최대 K원이다. 마라톤 코스는 참가할 수 있는 사람이 최다가 되게 정하려고 한다. 마라톤 코스를 예산 안에서 적절히 정했을 때, 참가할 수 있는 사람의 수의 최댓값을 구하는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫째 줄에 교차로의 수 N, 도로의 수 M, 예산 K가 주어진다. (2 ≤ N ≤ 100,000, N-1 ≤ M ≤ 100,000, 1 ≤ K ≤ 10<sup>9</sup>)</p>

<p>둘째 줄부터 M개의 줄에는 도로의 정보가 주어진다. 도로의 정보는 네 정수 A, B, C, T (1 ≤ A < B ≤ N, 1 ≤ C, T ≤ 1,000) 로 이루어져 있다. A와 B는 도로가 연결하는 두 교차로의 번호, C와 T는 그 도로 통제하는 비용을 계산하는데 쓰이는 값이다. </p>

<p>임의의 두 교차로를 연결하는 도로의 개수는 최대 1개이고, 항상 정답을 구할 수 있는 경우만 입력으로 주어진다.</p>

### 출력 

 <p>마라톤 코스를 예산 안에서 적절히 정했을 때, 참가할 수 있는 사람의 수의 최댓값을 첫째 줄에 출력한다.</p>

